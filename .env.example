# ── Profile Selection ──────────────────────────────────────────
# Set STUPID_PROFILE to activate a named profile. When set (e.g. PROD),
# every key is first looked up as {PROFILE}_{KEY}, falling back to {KEY}.
#
# Example: STUPID_PROFILE=PROD
#   -> reads PROD_AWS_ACCESS_KEY_ID, falls back to AWS_ACCESS_KEY_ID
#   -> reads PROD_PG_HOST, falls back to PG_HOST
#   -> applies to ALL config sections (AWS, PG, OpenSearch, LLM, etc.)
#
STUPID_PROFILE=

# ── Server ─────────────────────────────────────────────────────
HOST=0.0.0.0
PORT=3001
CORS_ORIGIN=*

# ── Storage ────────────────────────────────────────────────────
DATA_DIR=data
SEGMENT_RETENTION_DAYS=30

# ── AWS / S3 (remote parquet, cloud storage) ───────────────────
# Default credentials (used when no profile or as fallback)
AWS_REGION=ap-southeast-1
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_SESSION_TOKEN=
S3_BUCKET=
S3_PREFIX=
AWS_ENDPOINT_URL=                # MinIO/LocalStack: http://localhost:9000

# Profile: PROD
# PROD_AWS_REGION=ap-southeast-1
# PROD_AWS_ACCESS_KEY_ID=AKIA...
# PROD_AWS_SECRET_ACCESS_KEY=...
# PROD_S3_BUCKET=my-prod-bucket

# Profile: STAGING
# STAGING_AWS_ACCESS_KEY_ID=AKIA...
# STAGING_AWS_SECRET_ACCESS_KEY=...
# STAGING_S3_BUCKET=my-staging-bucket

# ── PostgreSQL (CRM enrichment, reference data) ────────────────
PG_HOST=localhost
PG_PORT=5432
PG_DATABASE=stupiddb
PG_USERNAME=
PG_PASSWORD=
PG_SSL_MODE=prefer
PG_MAX_CONNECTIONS=10

# PROD_PG_HOST=prod-db.example.com
# PROD_PG_DATABASE=stupiddb_prod
# PROD_PG_USERNAME=app_user
# PROD_PG_PASSWORD=...

# ── OpenSearch / Elasticsearch ─────────────────────────────────
OPENSEARCH_HOST=localhost
OPENSEARCH_PORT=9200
OPENSEARCH_INDEX=events
OPENSEARCH_USERNAME=
OPENSEARCH_PASSWORD=
OPENSEARCH_USE_SSL=false

# PROD_OPENSEARCH_HOST=search.example.com
# PROD_OPENSEARCH_USE_SSL=true

# ── LLM (query planning, chat) ────────────────────────────────
LLM_PROVIDER=ollama              # openai | anthropic | ollama
LLM_TEMPERATURE=0.1
LLM_MAX_TOKENS=4096

# OpenAI
OPENAI_API_KEY=
OPENAI_MODEL=gpt-4o
OPENAI_BASE_URL=                 # Custom endpoint (Azure, etc.)

# Anthropic
ANTHROPIC_API_KEY=
ANTHROPIC_MODEL=claude-sonnet-4-5-20250929

# ── Ollama (local models) ─────────────────────────────────────
OLLAMA_URL=http://localhost:11434
OLLAMA_MODEL=llama3.2
OLLAMA_EMBEDDING_MODEL=nomic-embed-text

# ── Queue (SQS real-time ingestion) ──────────────────────────
QUEUE_ENABLED=false
QUEUE_PROVIDER=sqs               # sqs (redis/mqtt planned)
QUEUE_URL=                       # SQS queue URL
QUEUE_POLL_INTERVAL_MS=1000
QUEUE_MAX_BATCH_SIZE=10          # SQS max is 10
QUEUE_VISIBILITY_TIMEOUT_SECS=30
QUEUE_MICRO_BATCH_SIZE=100       # Flush after N messages
QUEUE_MICRO_BATCH_TIMEOUT_MS=1000 # Flush after N ms
QUEUE_DLQ_URL=                   # Dead-letter queue (optional)

# PROD_QUEUE_ENABLED=true
# PROD_QUEUE_URL=https://sqs.ap-southeast-1.amazonaws.com/123456789/my-queue

# ── Embedding ──────────────────────────────────────────────────
EMBEDDING_PROVIDER=ollama        # onnx | ollama | openai
EMBEDDING_DIMENSIONS=768
ONNX_MODEL_PATH=
EMBEDDING_BATCH_SIZE=64

# ── Agents (AI agent execution system) ────────────────────────
AGENTS_DIR=packages/stupid-claude-agent/.claude/agents
AGENT_LLM_TEMPERATURE=0.7        # Higher temp for creative agent responses
AGENT_LLM_MAX_TOKENS=8192        # Larger context for agent reasoning
